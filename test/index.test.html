<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <script>
      let module = {}
    </script>
    <script src="../node_modules/mocha/mocha.js"></script>
    <script src="../node_modules/chai/chai.js"></script>
    <script src="../src/client/.tmp/bundle.js"></script>
  </head>
  <body>
    <div id="mocha"></div>
    <script class="mocha-init">
      mocha.setup('bdd')
      mocha.checkLeaks()
    </script>
    <script>
      const should = chai.should()
      const expect = chai.expect

      const { math, Hello, sayYeah } = lib
      const { pi, multiply } = math

      const hello = new Hello('Yannick')

      describe('#index.test.html', () => {
        it('should be a string', () => {
          'Yannick'.should.be.a('string')
        })

        it('should say "Yeah!"', () => {
          expect(sayYeah()).to.be.equal('Yeah!')
        })

        it('sum should be 20', () => {
          expect(multiply(5, 4)).to.be.equal(20)
        })

        it('should return PI', () => {
          expect(pi()).to.be.equal(Math.PI)
        })

        it('should say "Yannick"', () => {
          expect(hello.sayName()).to.be.equal('My name is Yannick')
        })

        it('should return "hello world"', async () => {
          const res = await fetch('http://localhost:3000')
          const json = await res.json()
          expect(json.test).to.be.equal('Hello World!')
        })
      })
    </script>
    <script class="mocha-exec">
      mocha.run()
    </script>
  </body>
</html>
